<!--
	钩子函数是什么意思? 由叫做回调函数，或者事件响应函数。 
	指的是，一个指令在创建过程中，经历不同生命周期的时候，vue.js 框架调用的函数。
	----------
	常见函数：
	bind：只调用一次，指令第一次绑定到元素时调用。在这里可以进行一次性的初始化设置。
	update：所在组件的 VNode 更新时调用，但是可能发生在其子 VNode 更新之前。指令的值可能发生了改变，也可能没有。但是你可以通过比较更新前后的值来忽略不必要的模板更新。
	unbind：只调用一次，指令与元素解绑时调用。	
	----------
	以bind为例：
	name：指令名，不包括 v- 前缀。
	value：指令的绑定值，本例就是hello vue.js
	oldValue：指令绑定的前一个值，仅在 update 和 componentUpdated 钩子中可用。无论值是否改变都可用。
	expression：字符串形式的指令表达式。本例就是 message
	arg：传给指令的参数，本例就是hello
	modifiers：一个包含修饰符的对象。本例就是 .a .b
-->
<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>钩子函数</title>
		<script src="../vue.min.js"></script>
	</head>

	<body>
		<div id="div1">
			<div v-xart:hello.a.b="message"></div>
		</div>
		<script>
			Vue.directive('xart', {
				bind: function(el, binding, vnode) {
					var s = JSON.stringify
					el.innerHTML =
						'name: ' + s(binding.name) + '<br>' +
						'value: ' + s(binding.value) + '<br>' +
						'expression: ' + s(binding.expression) + '<br>' +
						'argument: ' + s(binding.arg) + '<br>' +
						'modifiers: ' + s(binding.modifiers) + '<br>' +
						'vnode keys: ' + Object.keys(vnode).join(', ')
				},
				update: function(newValue, oldValue) {
					//值更新时的工作
					//也会以初始值为参数调用一次
				},
				unbind: function() {
					//清理工作
					//例如，删除bind()添加的事件监听
				}
			})
			new Vue({
				el: '#div1',
				data: {
					message: 'hello vue.js'
				}
			})
		</script>
	</body>

</html>